{
  "magic": "E!vIA5L86J2I",
  "timestamp": "2024-12-03T01:48:15.396239+00:00",
  "repo": "bemasc/capsule-conversion",
  "labels": [
    {
      "name": "bug",
      "description": "Something isn't working",
      "color": "d73a4a"
    },
    {
      "name": "documentation",
      "description": "Improvements or additions to documentation",
      "color": "0075ca"
    },
    {
      "name": "duplicate",
      "description": "This issue or pull request already exists",
      "color": "cfd3d7"
    },
    {
      "name": "enhancement",
      "description": "New feature or request",
      "color": "a2eeef"
    },
    {
      "name": "good first issue",
      "description": "Good for newcomers",
      "color": "7057ff"
    },
    {
      "name": "help wanted",
      "description": "Extra attention is needed",
      "color": "008672"
    },
    {
      "name": "invalid",
      "description": "This doesn't seem right",
      "color": "e4e669"
    },
    {
      "name": "question",
      "description": "Further information is requested",
      "color": "d876e3"
    },
    {
      "name": "wontfix",
      "description": "This will not be worked on",
      "color": "ffffff"
    }
  ],
  "issues": [],
  "pulls": [
    {
      "number": 1,
      "id": "PR_kwDONFykoM6ALEGK",
      "title": "do not require protocol fallback",
      "url": "https://github.com/bemasc/capsule-conversion/pull/1",
      "state": "CLOSED",
      "author": "kazuho",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "I do not recall us mandating H2 or H3 servers fall back to HTTP/1.1 for ordinary requests. Removal of the requirement aligns handling of CPUT to that precedence.",
      "createdAt": "2024-10-29T00:32:31Z",
      "updatedAt": "2024-10-31T02:09:19Z",
      "baseRepository": "bemasc/capsule-conversion",
      "baseRefName": "main",
      "baseRefOid": "6b5ffb7292887fa3152850dd7fe07ae64869aee3",
      "headRepository": "kazuho/capsule-conversion",
      "headRefName": "kazuho/first-read",
      "headRefOid": "faa424e82c96c4cd2728fe9d33a558bce0c5f92e",
      "closedAt": "2024-10-31T02:09:19Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "EDIT: Proposed alternative: #3.\r\n\r\nThe principle I'm trying to uphold is: \"adding capabilities to the backend server can't break the overall system\".  The current landscape of HTTP versions complies with this principle.  If my backend server only supports HTTP/X, and I later decide to add HTTP/Y, I can be confident that nothing will stop working.\r\n\r\nNow suppose, in this specification, that I operate an HTTP/1.1 backend, and Capsule Protocol requests are working well.  Then I decide to activate HTTP/2 support for this backend.  If Extended CONNECT is not enabled on my backend server, Capsule Protocol requests will start failing (if the intermediary prefers HTTP/2).\r\n\r\nTo avoid this failure mode, the intermediary needs to distinguish \"HTTP/2\" from \"HTTP/2 with Extended CONNECT\", and only use the latter for the Capsule Protocol.  This doesn't need to be accomplished via \"fallback\".  It could be a manual configuration step by the customer.\r\n\r\nThe main alternative I see would be to say that any backend server relying on unrecognized CPUT conversion MUST offer Extended CONNECT on H2 and H3.  If you think that's a better approach, I'm happy to change this text.",
          "createdAt": "2024-10-29T13:08:52Z",
          "updatedAt": "2024-10-29T21:19:33Z"
        },
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "Closing in favor of #4",
          "createdAt": "2024-10-31T02:09:19Z",
          "updatedAt": "2024-10-31T02:09:19Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 2,
      "id": "PR_kwDONFykoM6ALEn6",
      "title": "add kazuho",
      "url": "https://github.com/bemasc/capsule-conversion/pull/2",
      "state": "MERGED",
      "author": "kazuho",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-10-29T00:35:13Z",
      "updatedAt": "2024-10-29T12:51:21Z",
      "baseRepository": "bemasc/capsule-conversion",
      "baseRefName": "main",
      "baseRefOid": "6b5ffb7292887fa3152850dd7fe07ae64869aee3",
      "headRepository": "kazuho/capsule-conversion",
      "headRefName": "kazuho/add-kazuho",
      "headRefOid": "406b3767b31ce24db3685b0e0fdc0afdc5e012d2",
      "closedAt": "2024-10-29T12:51:21Z",
      "mergedAt": "2024-10-29T12:51:21Z",
      "mergedBy": "bemasc",
      "mergeCommit": {
        "oid": "c50994dfb9edb0fe3a35e76009b5e252c9ff5426"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDONFykoM6PKA6s",
          "commit": {
            "abbreviatedOid": "406b376"
          },
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-10-29T12:51:16Z",
          "updatedAt": "2024-10-29T12:51:16Z",
          "comments": []
        }
      ]
    },
    {
      "number": 3,
      "id": "PR_kwDONFykoM6ATBfj",
      "title": "Move Extended CONNECT requirement to origin servers",
      "url": "https://github.com/bemasc/capsule-conversion/pull/3",
      "state": "CLOSED",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Alternative to #2",
      "createdAt": "2024-10-29T21:02:10Z",
      "updatedAt": "2024-10-31T02:09:11Z",
      "baseRepository": "bemasc/capsule-conversion",
      "baseRefName": "main",
      "baseRefOid": "c50994dfb9edb0fe3a35e76009b5e252c9ff5426",
      "headRepository": "bemasc/capsule-conversion",
      "headRefName": "bemasc-ext-connect",
      "headRefOid": "06db8d14058bb28ee01a202dde011b026d61fbaa",
      "closedAt": "2024-10-31T02:09:10Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "@kazuho Please review",
          "createdAt": "2024-10-29T21:19:04Z",
          "updatedAt": "2024-10-29T21:19:04Z"
        },
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "Closing in favor of #4",
          "createdAt": "2024-10-31T02:09:10Z",
          "updatedAt": "2024-10-31T02:09:10Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDONFykoM6PTdsc",
          "commit": {
            "abbreviatedOid": "06db8d1"
          },
          "author": "kazuho",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-10-30T10:03:55Z",
          "updatedAt": "2024-10-30T10:03:55Z",
          "comments": [
            {
              "originalPosition": 38,
              "body": "While the preceding paragraph might be true, I'm not sure if RFC 9110 has something equivalent to the MUSTs in this paragraph.\r\n\r\nMy gut feeling is that our requirements for cross-version behavior should be identical to that of ordinary HTTP, because extended connect runs on top of HTTP.\r\n\r\nAll I know is that [RFC 9110 Section 6.2](https://www.rfc-editor.org/rfc/rfc9110.html#name-control-data) provides recommendations (but not requirements) for how the clients select versions, while it is almost silent regarding the requirements for servers.\r\n\r\nCould we just point to that section and call it a day?",
              "createdAt": "2024-10-30T10:03:55Z",
              "updatedAt": "2024-10-30T10:03:55Z"
            }
          ]
        },
        {
          "id": "PRR_kwDONFykoM6PV0OM",
          "commit": {
            "abbreviatedOid": "06db8d1"
          },
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-10-30T13:16:38Z",
          "updatedAt": "2024-10-30T13:16:38Z",
          "comments": [
            {
              "originalPosition": 38,
              "body": "In my view, the \"HTTP/2 without Extended CONNECT\" situation is a real mess that should be highlighted somehow.\r\n\r\nI've tried a different approach in #4.  Please review.",
              "createdAt": "2024-10-30T13:16:38Z",
              "updatedAt": "2024-10-30T13:16:38Z"
            }
          ]
        }
      ]
    },
    {
      "number": 4,
      "id": "PR_kwDONFykoM6AYkfa",
      "title": "Move discussion of partially broken origins to the Implications",
      "url": "https://github.com/bemasc/capsule-conversion/pull/4",
      "state": "MERGED",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Alternative to #2, #3",
      "createdAt": "2024-10-30T13:15:06Z",
      "updatedAt": "2024-10-31T02:08:47Z",
      "baseRepository": "bemasc/capsule-conversion",
      "baseRefName": "main",
      "baseRefOid": "c50994dfb9edb0fe3a35e76009b5e252c9ff5426",
      "headRepository": "bemasc/capsule-conversion",
      "headRefName": "bemasc-remove-ext-conect",
      "headRefOid": "3b1fce0d85cfc0e97ef3c90cd80a15d40ae9b87f",
      "closedAt": "2024-10-31T02:08:46Z",
      "mergedAt": "2024-10-31T02:08:46Z",
      "mergedBy": "bemasc",
      "mergeCommit": {
        "oid": "91371b6b1f069e8eec0e8b799fff70ff9cddac66"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDONFykoM6Pc_Gb",
          "commit": {
            "abbreviatedOid": "3b1fce0"
          },
          "author": "kazuho",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "Thank you very much!\r\n\r\nLooks good. We can come back to this if necessary, after the draft gets adopted.",
          "createdAt": "2024-10-31T01:10:24Z",
          "updatedAt": "2024-10-31T01:10:24Z",
          "comments": []
        }
      ]
    },
    {
      "number": 5,
      "id": "PR_kwDONFykoM6BYGEW",
      "title": "Support recognized CPUTs as well",
      "url": "https://github.com/bemasc/capsule-conversion/pull/5",
      "state": "MERGED",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "This change adds support for version translation of known CPUTs, even if the Capsule-Protocol request header is omitted.",
      "createdAt": "2024-11-08T22:41:36Z",
      "updatedAt": "2024-11-11T15:07:36Z",
      "baseRepository": "bemasc/capsule-conversion",
      "baseRefName": "main",
      "baseRefOid": "91371b6b1f069e8eec0e8b799fff70ff9cddac66",
      "headRepository": "bemasc/capsule-conversion",
      "headRefName": "bemasc-backcompat",
      "headRefOid": "f431937e4bae5381750770e4dead396d6e3b8fa4",
      "closedAt": "2024-11-11T15:07:33Z",
      "mergedAt": "2024-11-11T15:07:33Z",
      "mergedBy": "bemasc",
      "mergeCommit": {
        "oid": "0aaa310f20ded96377b74ea579b81ae724b065a7"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDONFykoM6Qjxu-",
          "commit": {
            "abbreviatedOid": "f38d78e"
          },
          "author": "kazuho",
          "authorAssociation": "CONTRIBUTOR",
          "state": "APPROVED",
          "body": "Thank you for writing this down (including the details that we need to cover). Everything LGTM.",
          "createdAt": "2024-11-09T11:41:00Z",
          "updatedAt": "2024-11-09T11:41:00Z",
          "comments": []
        },
        {
          "id": "PRR_kwDONFykoM6QjxtT",
          "commit": {
            "abbreviatedOid": "f38d78e"
          },
          "author": "DavidSchinazi",
          "authorAssociation": "NONE",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-11-09T11:40:24Z",
          "updatedAt": "2024-11-09T11:41:09Z",
          "comments": [
            {
              "originalPosition": 25,
              "body": "In addition to requiring the method to be CONNECT, should we also require the presence of a `:protocol` pseudo-header? I know the case of unextended CONNECT with `Capsule-Protocol = ?1` is invalid, but might as well be precise about the need for extended CONNECT.",
              "createdAt": "2024-11-09T11:40:24Z",
              "updatedAt": "2024-11-09T11:41:09Z"
            }
          ]
        },
        {
          "id": "PRR_kwDONFykoM6QsTxh",
          "commit": {
            "abbreviatedOid": "f38d78e"
          },
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-11-11T15:07:24Z",
          "updatedAt": "2024-11-11T15:07:24Z",
          "comments": [
            {
              "originalPosition": 25,
              "body": "OK, done",
              "createdAt": "2024-11-11T15:07:24Z",
              "updatedAt": "2024-11-11T15:07:24Z"
            }
          ]
        }
      ]
    }
  ]
}